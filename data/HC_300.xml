<?xml version = '1.0' encoding = 'UTF-8'?>
<!-- HBCI-Structures by UGogolin for HBCI_Cern -->
<HBCI>
<MVEs>
	<!-- in MVEs enthaltene MVEs sind nicht eingetragen. -->
	<!-- Statt dessen sind die einzelnen DEs direkt im jwl MVE enthalten! -->
	<MVEdef id="btg">
		<!-- Betrag -->
		<DE type="wrt" name="value" />
		<DE type="cur" name="cur" />	
	</MVEdef>
	
	<MVEdef id="kik">
		<!-- Kreditinstitutskennung -->
		<DE type="ctr" name="country" />
		<DE minnum="0" type="an" name="blz" maxsize="30" />				
	</MVEdef>
    
    <MVEdef id="kto" >
     <!-- Kontoverbindung for Saldo 4 -->
     <DE type="id" name="number" />
     <DE type="ctr" name="country" />
     <DE minnum="0" type="an" name="blz" maxsize="30" />
    </MVEdef>
	
    <MVEdef id="ktv">
		<!-- Kontoverbindung -->
		<DE type="id" name="number" />
		<DE minnum="0" type="id" name="subnumber" />
		<DE type="ctr" name="country" />
		<DE minnum="0" type="an" name="blz" maxsize="30" />						
	</MVEdef>
    	<!-- TODO Unterkontomerkmal im Kern nutzen/ ermoeglichen -->
    	
	<MVEdef id="kti">
		<!-- Kontoverbindung international -->
		<DE minnum="0" type="an" name="iban" maxsize="34" />
		<DE minnum="0" type="an" name="bic" maxsize="11" />
		<DE minnum="0" type="id" name="number" />
		<DE minnum="0" type="id" name="subnumber" />
		<DE minnum="0" type="ctr" name="country" />
		<DE minnum="0" type="an" name="blz" maxsize="30" />						
	</MVEdef>
	
	<MVEdef id="ktz">
		<!-- Kontoverbindung ZV international (SEPA-Zahlungverkehr) -->
		<DE type="jn" name="sepa" />
		<DE minnum="0" type="an" name="iban" maxsize="34" />
		<DE minnum="0" type="an" name="bic" maxsize="11" />
		<DE type="id" name="number" />
		<DE minnum="0" type="id" name="subnumber" />
		<DE type="ctr" name="country" />
		<DE minnum="0" type="an" name="blz" maxsize="30" />						
	</MVEdef>	
	
	<MVEdef id="sdo">
		<!-- Saldo -->
		<DE type="code" name="creditdebit" maxsize="1" />
		<DE type="wrt" name="value" />
		<DE type="cur" name="cur" />
		<DE type="date" name="date" />
		<DE minnum="0" type="time" name="time" />
		<valids path="creditdebit" >
			<validvalue>C</validvalue>
			<validvalue>D</validvalue>
		</valids>		
	</MVEdef>
	
	<MVEdef id="addr">
		<!-- Adresse -->
		<DE type="an" name="name1" maxsize="35" />
		<DE minnum="0" type="an" name="name2" maxsize="35" />
		<DE type="an" name="street_pf" maxsize="35" />
		<DE type="an" name="plz" maxsize="10" />
		<DE type="an" name="ort" maxsize="35" />
		<DE minnum="0" type="ctr" name="country" />
		<DE minnum="0" type="an" name="tel" maxsize="35" />
		<DE minnum="0" type="an" name="fax" maxsize="35" />
		<DE minnum="0" type="an" name="email" maxsize="35" />
	</MVEdef>
	
	<MVEdef id="tsp">
		<!-- Zeitstempel -->
		<DE type="date" name="date" />
		<DE minnum="0" type="time" name="time" />				
	</MVEdef>
	
	<MVEdef id="rate">
		<!-- Boersenkurs -->
		<DE type="wrt" name="rate" />
		<DE minnum="0" type="cur" name="cur" />
		<DE minnum="0" type="an" name="rateadd" maxsize="5" />		
		<DE type="date" name="date" />		
		<DE minnum="0" type="time" name="time" />
		<DE minnum="0" type="an" name="location" minsize="4" maxsize="4" />				
	</MVEdef>
	<!-- alle MVEs aus "FinTS_3.0_Messages_Geschaeftsvorfaelle_2008-02-29_final_version.pdf" -->
	<!-- implementiert. "id" ist "Kennung" aus dem Dokument.  -->	
</MVEs>



<DEGs>
	<DEGdef id="cert">
		<DE type="num" name="type" maxsize="1" />
		<DE type="bin" name="cert" maxsize="2048" />
		<valids path="type" >
			<validvalue>1</validvalue>
			<validvalue>2</validvalue>
			<validvalue>3</validvalue>
		</valids>
	</DEGdef>
	
	<DEGdef id="cryptalg" >
		<DE type="an" name="use" maxsize="3" />
		<DE type="an" name="mode" maxsize="3" />
		<DE type="an" name="alg" maxsize="3" />
		<DE type="bin" name="enckey" maxsize="512" />
		<DE type="an" name="keytype" maxsize="3" />
		<DE type="an" name="ivname" maxsize="3" />
		<DE minnum="0" type="bin" name="iv" maxsize="512" />
		<valids path="keytype" >
			<validvalue>5</validvalue>
			<validvalue>6</validvalue>
		</valids>
			<value path="use" >2</value>
			<value path="ivname" >1</value>
	</DEGdef>	
	
	<DEGdef id="hashalg" >
		<DE type="an" name="usage" maxsize="3" />
		<DE type="an" name="alg" maxsize="3" />
		<DE type="an" name="parname" maxsize="3" />
		<DE minnum="0" type="bin" name="parameter" maxsize="512" />
		<valids path="alg" >
			<validvalue>999</validvalue>
		</valids>
			<value path="usage" >1</value>
			<value path="parname" >1</value>
	</DEGdef>
	
	<DEGdef id="keyname" >
		<MVE type="kik" />
		<DE type="id" name="userid" />
		<DE type="an" name="keytype" maxsize="1" />
		<DE type="num" name="keynum" maxsize="3" />
		<DE type="num" name="keyversion" maxsize="3" />
		<valids path="keytype" >
			<validvalue>S</validvalue>
			<validvalue>V</validvalue>
		</valids>
	</DEGdef>	
	
	<DEGdef id="msgref" >
		<DE type="id" name="dialogid" />
		<DE type="num" name="msgnum" maxsize="4" />
	</DEGdef>	

	<DEGdef id="pubkey" >
		<DE type="an" name="usage" maxsize="3" />
		<DE type="an" name="mode" maxsize="3" />
		<DE type="an" name="method" maxsize="3" />
		<DE type="bin" name="modulus" maxsize="512" />
		<DE type="an" name="modname" maxsize="3" />
		<DE type="bin" name="exponent" maxsize="512" />
		<DE type="an" name="expname" maxsize="3" />
		<valids path="usage" >
			<validvalue>5</validvalue>
			<validvalue>6</validvalue>
		</valids>
			<value path="method" >10</value>
			<value path="modname" >12</value>
			<value path="expname" >13</value>
	</DEGdef>

	<DEGdef id="secidndetails" >
		<DE type="an" name="func" maxsize="3" />
		<DE minnum="0" type="bin" name="cid" maxsize="256" />
		<DE minnum="0" type="id" name="sysid" />
		<valids path="func" >
			<validvalue>1</validvalue>
			<validvalue>2</validvalue>
		</valids>
	</DEGdef>
	
	<DEGdef id="secprofile" >
		<DE type="code" name="secmode"        minsize="3" maxsize="3" />
		<DE type="num"  name="secmodeversion" minsize="1" maxsize="3" />
		<valids path="secmode" >
			<validvalue>DDV</validvalue>
			<validvalue>RDH</validvalue>
			<validvalue>PIN</validvalue>
		</valids>
		<valids path="secmodeversion" >
			<validvalue>1</validvalue>
			<validvalue>2</validvalue>
			<validvalue>3</validvalue>
			<validvalue>4</validvalue>
			<validvalue>5</validvalue>
			<validvalue>6</validvalue>
			<validvalue>7</validvalue>
			<validvalue>8</validvalue>
			<validvalue>9</validvalue>
			<validvalue>10</validvalue>
		</valids>
	</DEGdef>
	
	<DEGdef id="sectimestamp" >
		<DE type="an" name="type" maxsize="3" />
		<DE minnum="0" type="date" name="date" />
		<DE minnum="0" type="time" name="time" />
		<valids path="type" >
			<validvalue>1</validvalue>
			<validvalue>6</validvalue>
		</valids>
	</DEGdef>

	<DEGdef id="segheaduser" >
		<DE type="an" name="code" maxsize="6" />
		<DE type="num" name="seq" maxsize="3" />
		<DE type="num" name="version" maxsize="3" />
		<DE minnum="0" type="num" name="ref" maxsize="3" />
	</DEGdef>
	
	<DEGdef id="sigalg" >
		<DE type="an" name="usage" maxsize="3" />
		<DE type="an" name="alg" maxsize="3" />
		<DE type="an" name="mode" maxsize="999" />
		<valids path="alg" >
			<validvalue>1</validvalue>
			<validvalue>10</validvalue>
		</valids>
		<valids path="mode" >
			<validvalue>2</validvalue>
			<validvalue>16</validvalue>
			<validvalue>17</validvalue>
			<validvalue>18</validvalue>
			<validvalue>19</validvalue>
			<validvalue>999</validvalue>
		</valids>
			<value path="usage" >6</value>
	</DEGdef>
		
	<DEGdef id="usage2" >     
		<DE minnum="0" type="dtaus" name="usage" maxsize="27" />
	</DEGdef>		
</DEGs>



<SEGs>
	<SEGdef id="cryptdatauser" >
		<DEG type="segheaduser" name="seghead" />
		<DE type="bin" name="data" maxsize="0" />
			<value path="seghead.code" >HNVSD</value>
			<value path="seghead.version" >1</value>
	</SEGdef>


	<SEGdef id="cryptheaduser" >
		<DEG type="segheaduser" name="seghead" />
		<DEG type="secprofile" />
		<DE type="an" name="secfunc" maxsize="3" />
		<DE type="an" name="role" maxsize="3" />
		<DEG type="secidndetails" />
		<DEG type="sectimestamp" />
		<DEG type="cryptalg" />
		<DEG type="keyname" />
		<DE type="an" name="compfunc" maxsize="3" />
		<DEG minnum="0" type="cert" />
		<valids path="secfunc" >
			<validvalue>4</validvalue>
			<validvalue>998</validvalue>
		</valids>
		<valids path="role" >
			<validvalue>1</validvalue>
			<validvalue>4</validvalue>
		</valids>
			<value path="seghead.code" >HNVSK</value>
			<value path="seghead.version" >3</value>
			<value path="secfunc" >4</value>
			<value path="sectimestamp.type" >1</value>
			<value path="keyname.keytype" >V</value>
	</SEGdef>
	
	<SEGdef id="dialogend" >
		<DEG type="segheaduser" name="seghead" />
		<DE type="id" name="dialogid" />
			<value path="seghead.code" >HKEND</value>
			<value path="seghead.version" >1</value>
	</SEGdef>
	
	<SEGdef id="idn" >
		<DEG type="segheaduser" name="seghead" />
		<MVE type="kik" />
		<DE type="id" name="customerid" />
		<DE type="id" name="sysid" />
		<DE type="num" name="sysstatus" maxsize="1" />
		<valids path="sysstatus" >
			<validvalue>0</validvalue>
			<validvalue>1</validvalue>
		</valids>
			<value path="seghead.code" >HKIDN</value>
			<value path="seghead.version" >2</value>
	</SEGdef>
	
	<SEGdef id="keychange" >
		<DEG type="segheaduser" name="seghead" />
		<DE type="num" name="msgtype" maxsize="1" />
		<DE type="num" name="func" maxsize="3" />
		<DEG type="secprofile" />
		<DEG type="keyname" />
		<DEG type="pubkey" />
		<DEG minnum="0" type="cert" />
			<value path="seghead.code" >HKSAK</value>
			<value path="seghead.version" >3</value>
			<value path="msgtype" >2</value>
			<value path="func" >112</value>
	</SEGdef>	
	
	<SEGdef id="keyreq" >
		<DEG type="segheaduser" name="seghead" />
		<DE type="num" name="type" maxsize="1" />
		<DE type="num" name="func" maxsize="3" />
		<DEG type="secprofile" />
		<DEG type="keyname" />
		<DEG minnum="0" type="cert" />
			<value path="seghead.code" >HKISA</value>
			<value path="seghead.version" >3</value>
			<value path="type" >2</value>
			<value path="func" >124</value>
	</SEGdef>		
	
	<SEGdef id="msgheaduser" >
		<DEG type="segheaduser" name="seghead" />
		<DE type="dig" name="msgsize" minsize="12" maxsize="12" />
		<DE type="num" name="hbciversion" maxsize="3" />
		<DE type="id" name="dialogid" />
		<DE type="num" name="msgnum" maxsize="4" />
		<DEG minnum="0" type="msgref" />
			<value path="seghead.code" >HNHBK</value>
			<value path="seghead.version" >3</value>
			<value path="hbciversion" >300</value>
	</SEGdef>
	
	<SEGdef id="msgtailuser" >
		<DEG type="segheaduser" name="seghead" />
		<DE type="num" name="msgnum" maxsize="4" />
			<value path="seghead.code" >HNHBS</value>
			<value path="seghead.version" >1</value>
	</SEGdef>	
	
	<SEGdef id="procprep" >
		<DEG type="segheaduser" name="seghead" />
		<DE type="num" name="bpd" maxsize="3" />
		<DE type="num" name="upd" maxsize="3" />
		<DE type="num" name="lang" maxsize="3" />
		<DE type="an" name="prodname" maxsize="25" />
		<DE type="an" name="prodversion" maxsize="5" />
		<valids path="lang" >
			<validvalue>0</validvalue>
			<validvalue>1</validvalue>
			<validvalue>2</validvalue>
			<validvalue>3</validvalue>
		</valids>
			<value path="seghead.code" >HKVVB</value>
			<value path="seghead.version" >3</value>
	</SEGdef>	
	
	<SEGdef id="saldo4" >
		<DEG type="segheaduser" name="seghead" />
		<MVE type="kto" name = "ktv" />
		<DE type="jn" name="allaccounts" />
		<DE minnum="0" type="num" name="maxentries" maxsize="4" />
		<DE minnum="0" type="an" name="offset" maxsize="35" />
			<value path="seghead.code" >HKSAL</value>
			<value path="seghead.version" >4</value>
	</SEGdef>	
	
	<SEGdef id="sigheaduser" >
		<DEG type="segheaduser" name="seghead" />
		<DEG type="secprofile" />
		<DE type="an" name="secfunc" maxsize="3" />
		<DE type="an" name="seccheckref" maxsize="14" />
		<DE type="an" name="range" maxsize="3" />
		<DE type="an" name="role" maxsize="3" />
		<DEG type="secidndetails" />
		<DE type="num" name="secref" maxsize="16" />
		<DEG type="sectimestamp" />
		<DEG type="hashalg" />
		<DEG type="sigalg" />
		<DEG type="keyname" />
		<DEG minnum="0" type="cert" />
		<valids path="secfunc" >
			<validvalue>1</validvalue>
			<validvalue>2</validvalue>
		</valids>
		<valids path="range" >
			<validvalue>1</validvalue>
		</valids>
		<valids path="role" >
			<validvalue>1</validvalue>
			<validvalue>3</validvalue>
			<validvalue>4</validvalue>
		</valids>
			<value path="seghead.code" >HNSHK</value>
			<value path="seghead.version" >4</value>
			<value path="range" >1</value>
			<value path="sectimestamp.type" >1</value>
			<value path="keyname.keytype" >S</value>
	</SEGdef>	
	
	<SEGdef id="sigtailuser" >
		<DEG type="segheaduser" name="seghead" />
		<DE type="an" name="seccheckref" maxsize="14" />
		<DE minnum="1" type="bin" name="sig" maxsize="512" />
			<value path="seghead.code" >HNSHA</value>
			<value path="seghead.version" >2</value>
	</SEGdef>	
	
	<SEGdef id="synch" >
		<DEG type="segheaduser" name="seghead" />
		<DE type="num" name="mode" maxsize="1" />
		<valids path="mode" >
			<validvalue>0</validvalue>
			<validvalue>1</validvalue>
			<validvalue>2</validvalue>
		</valids>
			<value path="seghead.code" >HKSYN</value>
			<value path="seghead.version" >3</value>
	</SEGdef>	
	
    <SEGdef id="ueb3" >
     <!-- HBCI 2.1 -->
     <DEG type="segheaduser" name="seghead" />
     <MVE type="kto" name="my" />
     <MVE type="kto" name="other" />
     <DE type="dtaus" name="name1" maxsize="27" />
     <DE minnum="0" type="dtaus" name="name2" maxsize="27" />
     <MVE type="btg" />
     <DE type="dig" name="key" minsize="2" maxsize="2" />
     <DE minnum="0" type="dig" name="addkey" minsize="3" maxsize="3" />
     <DEG minnum="0" type="usage2" name="usage" />
     <DE minnum="0" type="date" name="date" />
     <DE minnum="0" type="an" name="id" maxsize="99" />
     <value path="seghead.code" >HKUEB</value>
     <value path="seghead.version" >3</value>
    </SEGdef>
	
    <SEGdef id="ueb5" >
		<!-- Ueberweisung -->
		<DEG type="segheaduser" name="seghead" />
		<MVE type="ktv" name="my" />
		<MVE type="ktv" name="other" />
		<DE 			type="dtaus" name="name1" maxsize="27" />
		<DE minnum="0"	type="dtaus" name="name2" maxsize="27" />
		<MVE type="btg" />
		<DE 			type="dig" name="key" 		minsize="2" maxsize="2" />
		<DE minnum="0"	type="dig" name="keyadd"	minsize="3" maxsize="3" />
		<DEG minnum="0" type="usage2" name="usage" />
			<value path="seghead.code" >HKUEB</value>
			<value path="seghead.version" >5</value>
	</SEGdef>
    
    <SEGdef id="umsnew4" >
     <!-- 3.0 -->
     <DEG type="segheaduser" name="seghead" />
     <MVE type="kto" name="ktv" />
     <DE minnum="0" type="cur" name="cur" />
     <DE minnum="0" type="num" name="maxentries" maxsize="4" />
     <DE minnum="0" type="an" name="offset" maxsize="35" />
     <value path="SegHead.code" >HKKAN</value>
     <value path="SegHead.version" >4</value>
    </SEGdef>
    
    <SEGdef id="umszeit4" >
     <!-- 3.0 -->      
     <DEG type="segheaduser" name="seghead" />
     <MVE type="kto" name="ktv" />
     <DE minnum="0" type="cur" name="cur" />
     <DE minnum="0" type="date" name="startdate" />
     <DE minnum="0" type="date" name="enddate" />
     <DE minnum="0" type="num" name="maxentries" maxsize="4" />
     <DE minnum="0" type="an" name="offset" maxsize="35" />
     <value path="seghead.code" >HKKAZ</value>
     <value path="seghead.version" >4</value>
    </SEGdef>						
</SEGs>


<MSGs>
	<MSGdef id="custommsg" >
		<SEG type="msgheaduser" name="msghead" />
		<SEG minnum="0" maxnum="2" type="sigheaduser" name="sighead" />
		<!-- add GV-SEGs here -->
		<SEG minnum="0" maxnum="2" type="sigtailuser" name="sigtail" />
		<SEG type="msgtailuser" name="msgtail" />
	</MSGdef>
	
	<MSGdef id="dialogend" >
		<SEG type="msgheaduser" name="msghead" />
		<SEG minnum="0" maxnum="2" type="sigheaduser" name="sighead" />
		<SEG type="dialogend" />
		<SEG minnum="0" maxnum="2" type="sigtailuser" name="sigtail" />
		<SEG type="msgtailuser" name="msgtail" />
	</MSGdef>

    <MSGdef dontsign="1" dontcrypt="1" id="dialogendanon" >
		<SEG type="msgheaduser" name="msghead" />
		<SEG type="dialogend" />
		<SEG type="msgtailuser" name="msgtail" />
    </MSGdef>	

	<MSGdef isdialoginit="1" id="dialoginit" >
		<SEG type="msgheaduser" name="msghead" />
		<SEG minnum="0" maxnum="2" type="sigheaduser" name="sighead" />
		<SEG type="idn" />
		<SEG type="procprep" />
		<SEG minnum="0" maxnum="2" type="keyreq" />
		<SEG minnum="0" maxnum="2" type="sigtailuser" name="sigtail" />
		<SEG type="msgtailuser" name="msgtail" />
			<value path="msghead.dialogid" >0</value>
			<value path="msghead.msgnum" >1</value>
			<value path="msgtail.msgnum" >1</value>
	</MSGdef>

    <MSGdef isdialoginit="1" dontsign="1" dontcrypt="1" id="dialoginitanon" >
		<SEG type="msgheaduser" name="msghead" />
		<SEG type="idn" />
		<SEG type="procprep" />
		<SEG type="msgtailuser" name="msgtail" />
			<value path="msghead.dialogid" >0</value>
			<value path="msghead.msgnum" >1</value>
			<value path="idn.customerid" >9999999999</value>
			<value path="idn.sysid" >0</value>
			<value path="idn.sysstatus" >0</value>
			<value path="msgtail.msgnum" >1</value>
    </MSGdef>
	
    <MSGdef isdialoginit="1" dontsign="1" dontcrypt="1" id="firstkeyreq" >
      <SEG type="msgheaduser" name="msghead" />
      <SEG type="idn" />
      <SEG type="procprep" />
      <SEG maxnum="2" minnum="2" type="keyreq" />
      <SEG type="msgtailuser" name="msgtail" />
	      <value path="msghead.dialogid" >0</value>
	      <value path="msghead.msgnum" >1</value>
	      <value path="idn.customerid" >9999999999</value>
	      <value path="idn.sysid" >0</value>
	      <value path="idn.sysstatus" >0</value>
	      <value path="keyreq_1.keyname.userid" >999</value>
	      <value path="keyreq_1.keyname.keynum" >999</value>
	      <value path="keyreq_1.keyname.keyversion" >999</value>
	      <value path="keyreq_2.keyname.userid" >999</value>
	      <value path="keyreq_2.keyname.keynum" >999</value>
	      <value path="keyreq_2.keyname.keyversion" >999</value>
	      <value path="msgtail.msgnum" >1</value>
    </MSGdef>	
	
    <MSGdef isdialoginit="1" dontsign="0" dontcrypt="0" id="firstkeysend" >
      <SEG type="msgheaduser" name="msghead" />
      <SEG maxnum="2" minnum="0" type="sigheaduser" name="sighead" />
      <SEG type="idn" />
      <SEG maxnum="2" minnum="2" type="keychange" />
      <SEG maxnum="2" minnum="0" type="sigtailuser" name="sigtail" />
      <SEG type="msgtailuser" name="msgtail" />
	      <value path="msghead.dialogid" >0</value>
	      <value path="msghead.msgnum" >1</value>
	      <value path="msgtail.msgnum" >1</value>
    </MSGdef>    
    
	<MSGdef isdialoginit="1" id="sendkeys" >
		<SEG type="msgheaduser" name="msghead" />
		<SEG maxnum="2" minnum="0" type="sigheaduser" name="sighead" />
		<SEG type="idn" />
		<SEG maxnum="2" minnum="2" type="keychange" />
		<SEG maxnum="2" minnum="0" type="sigtailuser" name="sigtail" />
		<SEG type="msgtailuser" name="msgtail" />
			<value path="msghead.dialogid" >0</value>
			<value path="msghead.msgnum" >1</value>
			<value path="idn.sysstatus" >1</value>
			<value path="msgtail.msgnum" >1</value>
	</MSGdef>    
    
	<MSGdef isdialoginit="1" id="synch" >
		<SEG type="msgheaduser" name="msghead" />
		<SEG minnum="0" maxnum="2" type="sigheaduser" name="sighead" />
		<SEG type="idn" />
		<SEG type="procprep" />
		<SEG minnum="0" maxnum="2" type="keyreq" />
		<SEG type="synch" />
		<SEG minnum="0" maxnum="2" type="sigtailuser" name="sigtail" />
		<SEG type="msgtailuser" name="msgtail" />
	</MSGdef>	    
</MSGs>
</HBCI>